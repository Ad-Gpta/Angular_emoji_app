<!-- Use Angular control-flow syntax (@if / @else / @for) (Angular v17+ / v20) -->
@if (!gameOver) {
<div class="game-container mat-elevation-z4">
    <!-- Timer -->
    <div class="timer">
        <mat-icon>schedule</mat-icon>
        <span>{{ timeLeft | number: '2.0' }}</span>
    </div>

    <!-- Progress -->
    <p class="progress">Question {{ current + 1 }} / {{ totalQuestions }}</p>

    <h2>GUESS THE MOVIE</h2>

    <!-- Emojis with @for -->
    <div class="emoji-row">
        @for (e of currentMovie.emoji; track e) {
        <span class="emoji">{{ e }}</span>
        }
    </div>

    <p class="hint">Hint: {{ currentMovie.hint }}</p>

    <mat-form-field class="answer-field" appearance="outline">
        <input matInput [(ngModel)]="userAnswer" placeholder="Enter your answer" [disabled]="showNext" />
    </mat-form-field>

    <div class="button-row">
        <button mat-raised-button color="primary" (click)="submitAnswer()" [disabled]="showNext">
            SUBMIT
        </button>

        <button mat-raised-button color="accent" (click)="nextQuestion()" [disabled]="!showNext">
            NEXT
        </button>
    </div>

    <p [style.color]="messageColor">{{ message }}</p>
</div>
} @else {
<div class="game-container mat-elevation-z4">
    <h2>ðŸŽ‰ Game Over ðŸŽ‰</h2>
    <p>Your Final Score: <b>{{ score }} / {{ totalQuestions }}</b></p>
    <button (click)="endGame()">Go to Leaderboard</button>
    <button mat-raised-button color="primary" (click)="restartGame()">
        Play Again
    </button>
</div>
}